# ğŸš€ éƒ¨ç½²æŒ‡å—

æœ¬æ–‡æ¡£æä¾›è¯¦ç»†çš„éƒ¨ç½²æ­¥éª¤ï¼Œå¸®åŠ©ä½ å°† AI å›¾åƒç”Ÿæˆå™¨éƒ¨ç½²åˆ°å„ä¸ªå…è´¹äº‘å¹³å°ã€‚

---

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. è·å– Replicate API Token

1. è®¿é—® https://replicate.com
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥ https://replicate.com/account/api-tokens
4. åˆ›å»º API Token å¹¶å¤åˆ¶ä¿å­˜

### 2. ç¡®ä¿ä»£ç å·²æäº¤åˆ° Git

```bash
git add .
git commit -m "å‡†å¤‡éƒ¨ç½²"
git push origin main
```

---

## ğŸ¯ æ–¹å¼ä¸€ï¼šRender éƒ¨ç½²ï¼ˆæ¨èï¼‰

**ä¼˜ç‚¹**ï¼šå®Œå…¨å…è´¹ã€é…ç½®ç®€å•ã€è‡ªåŠ¨HTTPSã€æŒä¹…åŒ–å­˜å‚¨

### æ­¥éª¤ï¼š

1. **åˆ›å»ºè´¦å·**
   - è®¿é—® https://render.com
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•

2. **åˆ›å»ºæ–°æœåŠ¡**
   - ç‚¹å‡» "New +" â†’ "Web Service"
   - è¿æ¥ä½ çš„ GitHub ä»“åº“
   - é€‰æ‹©è¿™ä¸ªé¡¹ç›®

3. **é…ç½®æœåŠ¡**
   ```
   Name: ai-image-generator
   Region: Oregon (US West) æˆ–é€‰æ‹©æœ€è¿‘çš„
   Branch: main
   Runtime: Python 3
   Build Command: pip install -r requirements.txt
   Start Command: gunicorn app:app
   ```

4. **è®¾ç½®ç¯å¢ƒå˜é‡**
   ç‚¹å‡» "Environment" æ ‡ç­¾ï¼Œæ·»åŠ ï¼š
   ```
   REPLICATE_API_TOKEN = ä½ çš„å®é™…token
   FLASK_ENV = production
   SECRET_KEY = ç”Ÿæˆä¸€ä¸ªéšæœºå­—ç¬¦ä¸²
   ```

5. **é€‰æ‹©å…è´¹è®¡åˆ’**
   - Instance Type: Free
   - ç‚¹å‡» "Create Web Service"

6. **ç­‰å¾…éƒ¨ç½²**
   - é¦–æ¬¡éƒ¨ç½²éœ€è¦ 3-5 åˆ†é’Ÿ
   - å®Œæˆåä¼šæ˜¾ç¤ºä½ çš„ç½‘ç«™URLï¼š`https://your-app.onrender.com`

### æ³¨æ„äº‹é¡¹ï¼š
- å…è´¹ç‰ˆé—²ç½® 15 åˆ†é’Ÿåä¼šä¼‘çœ 
- é¦–æ¬¡è®¿é—®å¯èƒ½éœ€è¦ 30 ç§’å¯åŠ¨æ—¶é—´
- æ¯æœˆ 750 å°æ—¶å…è´¹ä½¿ç”¨

---

## ğŸ¯ æ–¹å¼äºŒï¼šRailway éƒ¨ç½²

**ä¼˜ç‚¹**ï¼šç•Œé¢å‹å¥½ã€éƒ¨ç½²å¿«é€Ÿã€è‡ªåŠ¨æ„å»º

### æ­¥éª¤ï¼š

1. **åˆ›å»ºè´¦å·**
   - è®¿é—® https://railway.app
   - ä½¿ç”¨ GitHub ç™»å½•

2. **åˆ›å»ºæ–°é¡¹ç›®**
   - ç‚¹å‡» "New Project"
   - é€‰æ‹© "Deploy from GitHub repo"
   - æˆæƒå¹¶é€‰æ‹©ä½ çš„ä»“åº“

3. **é…ç½®ç¯å¢ƒå˜é‡**
   ç‚¹å‡»é¡¹ç›® â†’ Settings â†’ Variablesï¼Œæ·»åŠ ï¼š
   ```
   REPLICATE_API_TOKEN = ä½ çš„token
   FLASK_ENV = production
   SECRET_KEY = éšæœºå­—ç¬¦ä¸²
   ```

4. **è‡ªåŠ¨éƒ¨ç½²**
   - Railway ä¼šè‡ªåŠ¨æ£€æµ‹ Python é¡¹ç›®
   - è‡ªåŠ¨è¿è¡Œ requirements.txt
   - è‡ªåŠ¨åˆ†é…åŸŸå

5. **æŸ¥çœ‹ç½‘ç«™**
   - ç‚¹å‡» "Settings" â†’ "Domains"
   - ä¼šæ˜¾ç¤ºç±»ä¼¼ `your-app.up.railway.app` çš„URL

### æ³¨æ„äº‹é¡¹ï¼š
- æ–°ç”¨æˆ·æœ‰ $5 å…è´¹é¢åº¦
- é¢åº¦ç”¨å®Œéœ€è¦ç»‘å®šä¿¡ç”¨å¡ï¼ˆä¸ä¼šæ‰£è´¹ï¼‰

---

## ğŸ¯ æ–¹å¼ä¸‰ï¼šFly.io éƒ¨ç½²

**ä¼˜ç‚¹**ï¼šæ€§èƒ½å¥½ã€å…¨çƒCDNã€æ”¯æŒæŒä¹…åŒ–å­˜å‚¨

### æ­¥éª¤ï¼š

1. **å®‰è£… Fly CLI**
   ```bash
   # macOS
   brew install flyctl

   # Linux
   curl -L https://fly.io/install.sh | sh

   # Windows
   powershell -Command "iwr https://fly.io/install.ps1 -useb | iex"
   ```

2. **ç™»å½• Fly.io**
   ```bash
   flyctl auth login
   ```

3. **åˆå§‹åŒ–é¡¹ç›®**ï¼ˆé¡¹ç›®å·²æœ‰ fly.tomlï¼Œè·³è¿‡æ­¤æ­¥éª¤ï¼‰
   ```bash
   flyctl launch
   ```

4. **è®¾ç½®ç¯å¢ƒå˜é‡**
   ```bash
   flyctl secrets set REPLICATE_API_TOKEN=ä½ çš„token
   flyctl secrets set FLASK_ENV=production
   flyctl secrets set SECRET_KEY=éšæœºå­—ç¬¦ä¸²
   ```

5. **éƒ¨ç½²**
   ```bash
   flyctl deploy
   ```

6. **æŸ¥çœ‹ç½‘ç«™**
   ```bash
   flyctl open
   ```

### æ³¨æ„äº‹é¡¹ï¼š
- éœ€è¦ä¿¡ç”¨å¡éªŒè¯ï¼ˆä¸ä¼šæ‰£è´¹ï¼‰
- å…è´¹é¢åº¦ï¼š3ä¸ªåº”ç”¨ + 160GBæµé‡/æœˆ

---

## ğŸ¯ æ–¹å¼å››ï¼šDocker éƒ¨ç½²ï¼ˆé€‚åˆè‡ªå·±çš„æœåŠ¡å™¨ï¼‰

å¦‚æœä½ æœ‰è‡ªå·±çš„ VPS æˆ–æœåŠ¡å™¨ï¼š

### æ­¥éª¤ï¼š

1. **æ„å»ºé•œåƒ**
   ```bash
   docker build -t ai-image-generator .
   ```

2. **è¿è¡Œå®¹å™¨**
   ```bash
   docker run -d \
     -p 8080:8080 \
     -e REPLICATE_API_TOKEN=ä½ çš„token \
     -e FLASK_ENV=production \
     -e SECRET_KEY=éšæœºå­—ç¬¦ä¸² \
     -v $(pwd)/static/images:/app/static/images \
     --name ai-generator \
     ai-image-generator
   ```

3. **è®¿é—®**
   ```
   http://ä½ çš„æœåŠ¡å™¨IP:8080
   ```

---

## ğŸ”§ éƒ¨ç½²åé…ç½®

### 1. ç»‘å®šè‡ªå®šä¹‰åŸŸå

**Render**:
- Settings â†’ Custom Domain â†’ æ·»åŠ åŸŸå
- åœ¨ DNS æä¾›å•†å¤„æ·»åŠ  CNAME è®°å½•

**Railway**:
- Settings â†’ Domains â†’ Custom Domain
- æ·»åŠ  CNAME è®°å½•åˆ° Railway æä¾›çš„åœ°å€

**Fly.io**:
```bash
flyctl certs add yourdomain.com
```

### 2. é…ç½® HTTPS

æ‰€æœ‰æ¨èçš„å¹³å°éƒ½è‡ªåŠ¨æä¾›å…è´¹ HTTPS è¯ä¹¦ï¼ˆLet's Encryptï¼‰

### 3. ç›‘æ§å’Œæ—¥å¿—

**Render**: Dashboard â†’ Logs
**Railway**: é¡¹ç›®é¡µé¢ â†’ Deployments â†’ View Logs
**Fly.io**:
```bash
flyctl logs
```

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| å¹³å° | å¯åŠ¨é€Ÿåº¦ | ç¨³å®šæ€§ | å…è´¹é¢åº¦ | æ¨èæŒ‡æ•° |
|------|---------|--------|---------|---------|
| Render | æ…¢ï¼ˆå†·å¯åŠ¨30sï¼‰ | â­â­â­â­ | 750h/æœˆ | â­â­â­â­â­ |
| Railway | å¿« | â­â­â­â­â­ | $5 é¢åº¦ | â­â­â­â­ |
| Fly.io | å¾ˆå¿« | â­â­â­â­â­ | 3ä¸ªåº”ç”¨ | â­â­â­â­ |

---

## ğŸ› å¸¸è§é—®é¢˜

### 1. éƒ¨ç½²åè®¿é—®è¶…æ—¶

**åŸå› **ï¼šå†·å¯åŠ¨æ—¶é—´è¿‡é•¿æˆ–å†…å­˜ä¸è¶³

**è§£å†³**ï¼š
- ç­‰å¾… 30-60 ç§’å†è¯•
- å‡çº§åˆ°ä»˜è´¹è®¡åˆ’ï¼ˆæ›´å¤šå†…å­˜ï¼‰

### 2. API Token æ— æ•ˆ

**åŸå› **ï¼šç¯å¢ƒå˜é‡æ²¡æœ‰æ­£ç¡®è®¾ç½®

**è§£å†³**ï¼š
- æ£€æŸ¥ç¯å¢ƒå˜é‡æ‹¼å†™
- ç¡®ä¿ token æ²¡æœ‰å¤šä½™ç©ºæ ¼
- é‡æ–°éƒ¨ç½²æœåŠ¡

### 3. å›¾ç‰‡æ— æ³•ä¿å­˜

**åŸå› **ï¼šå…è´¹è®¡åˆ’æ–‡ä»¶ç³»ç»Ÿä¸æŒä¹…åŒ–

**è§£å†³**ï¼š
- ä½¿ç”¨å¯¹è±¡å­˜å‚¨ï¼ˆS3, Cloudinaryï¼‰
- å‡çº§åˆ°æ”¯æŒæŒä¹…åŒ–å­˜å‚¨çš„è®¡åˆ’

### 4. å†…å­˜ä¸è¶³

**åŸå› **ï¼šå…è´¹è®¡åˆ’å†…å­˜é™åˆ¶ï¼ˆ256MB-512MBï¼‰

**è§£å†³**ï¼š
- å‡å°‘å¹¶å‘å¤„ç†æ•°é‡
- å‡çº§å†…å­˜é…ç½®
- ä½¿ç”¨é˜Ÿåˆ—ç³»ç»Ÿï¼ˆRedis + Celeryï¼‰

---

## ğŸ‰ éƒ¨ç½²æˆåŠŸæ£€æŸ¥æ¸…å•

- [ ] ç½‘ç«™å¯ä»¥æ­£å¸¸è®¿é—®
- [ ] æ–‡å­—ç”Ÿå›¾åŠŸèƒ½æ­£å¸¸
- [ ] å›¾ç”Ÿå›¾åŠŸèƒ½æ­£å¸¸
- [ ] å›¾ç‰‡å¯ä»¥ä¸‹è½½
- [ ] ç”»å»Šæ˜¾ç¤ºæ­£å¸¸
- [ ] HTTPS å·¥ä½œæ­£å¸¸
- [ ] å“åº”é€Ÿåº¦å¯æ¥å—

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹å¹³å°çš„æ—¥å¿—è¾“å‡º
2. æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®
3. ç¡®è®¤ API Token æœ‰æ•ˆ
4. æäº¤ Issue åˆ° GitHub

ç¥éƒ¨ç½²é¡ºåˆ©ï¼ğŸ¨
